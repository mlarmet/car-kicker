[gd_scene load_steps=13 format=3 uid="uid://bgo0wc0e8eqei"]

[ext_resource type="Script" path="res://Principale.gd" id="1_tlilw"]
[ext_resource type="PackedScene" uid="uid://b3lg3fiqe24ck" path="res://Ball.tscn" id="3_edt7p"]
[ext_resource type="PackedScene" uid="uid://cif2wd44530ww" path="res://Ramp.tscn" id="4_b6kic"]
[ext_resource type="PackedScene" uid="uid://dhofrch4itxup" path="res://Goal.tscn" id="5_mcmef"]
[ext_resource type="PackedScene" uid="uid://bsneohh6aogoo" path="res://Vehicle.tscn" id="6_xxu0i"]

[sub_resource type="Sky" id="Sky_cj6b8"]

[sub_resource type="Environment" id="Environment_l1fof"]
background_mode = 1
background_color = Color(0.337255, 0.517647, 0.909804, 1)
sky = SubResource("Sky_cj6b8")
ambient_light_source = 2
ambient_light_color = Color(0.301961, 0.301961, 0.301961, 1)
glow_blend_mode = 0

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_w25bi"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wyye7"]
albedo_color = Color(0.0196078, 0.384314, 0, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_uei1j"]
size = Vector2(91, 66)

[sub_resource type="BoxShape3D" id="BoxShape3D_v60t2"]
size = Vector3(91, 10, 0.1)

[sub_resource type="BoxShape3D" id="BoxShape3D_4e11x"]
size = Vector3(66, 10, 0.1)

[node name="Principale" type="Node3D"]
script = ExtResource("1_tlilw")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_l1fof")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.644124, 0.764921, 0, -0.764921, 0.644124, 0, 25.229, 34.5)
fov = 79.5

[node name="Ball" parent="." instance=ExtResource("3_edt7p")]

[node name="Vehicle" parent="." instance=ExtResource("6_xxu0i")]
transform = Transform3D(1, 0, -3.55271e-15, 0, 1, 0, 0, 0, 1, -30.4343, 0.8, 0)

[node name="Ground" type="StaticBody3D" parent="."]

[node name="GroundCollision" type="CollisionShape3D" parent="Ground"]
shape = SubResource("WorldBoundaryShape3D_w25bi")

[node name="GroundShape" type="MeshInstance3D" parent="Ground"]
material_override = SubResource("StandardMaterial3D_wyye7")
mesh = SubResource("PlaneMesh_uei1j")

[node name="Ramps" type="Node3D" parent="."]

[node name="Ramp" parent="Ramps" instance=ExtResource("4_b6kic")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0.5, 20.4347)

[node name="Ramp2" parent="Ramps" instance=ExtResource("4_b6kic")]
transform = Transform3D(1, 0, -1.74846e-07, 0, 1, 0, 1.74846e-07, 0, 1, 0, 0.5, -20)

[node name="Goals" type="Node3D" parent="."]

[node name="Goal" parent="Goals" instance=ExtResource("5_mcmef")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -38, 2.55, 2.5)

[node name="Goal2" parent="Goals" instance=ExtResource("5_mcmef")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 38.7132, 2.5, 2.5)

[node name="Walls" type="StaticBody3D" parent="."]

[node name="BigWall" type="CollisionShape3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 33)
shape = SubResource("BoxShape3D_v60t2")

[node name="BigWall2" type="CollisionShape3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, -33)
shape = SubResource("BoxShape3D_v60t2")

[node name="SmallWall" type="CollisionShape3D" parent="Walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 45.5, 5, 0)
shape = SubResource("BoxShape3D_4e11x")

[node name="SmallWall2" type="CollisionShape3D" parent="Walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -45.5, 5, 0)
shape = SubResource("BoxShape3D_4e11x")

[node name="IHM_2D" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Vehicle_infos" type="Panel" parent="IHM_2D"]
layout_mode = 1
offset_right = 144.0
offset_bottom = 57.0

[node name="Marche" type="Label" parent="IHM_2D/Vehicle_infos"]
layout_mode = 2
offset_left = 22.0
offset_top = 27.0
offset_right = 90.0
offset_bottom = 53.0
text = "Sens :"
vertical_alignment = 1

[node name="LblMarche" type="Label" parent="IHM_2D/Vehicle_infos/Marche"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 54.0
offset_top = 1.0
offset_right = 109.0
offset_bottom = 29.0

[node name="Vitesse" type="Label" parent="IHM_2D/Vehicle_infos"]
layout_mode = 2
offset_left = 4.0
offset_top = 4.0
offset_right = 72.0
offset_bottom = 30.0
text = "Vitesse : "
vertical_alignment = 1

[node name="LblVitesse" type="Label" parent="IHM_2D/Vehicle_infos/Vitesse"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 73.0
offset_right = 129.0
offset_bottom = 26.0
text = "0 Km/h"
vertical_alignment = 1

[node name="Options" type="Panel" parent="IHM_2D"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -127.0
offset_bottom = 29.0
grow_horizontal = 0

[node name="NightLabel" type="Label" parent="IHM_2D/Options"]
layout_mode = 0
offset_left = 5.0
offset_top = 1.0
offset_right = 96.0
offset_bottom = 27.0
text = "Night mode"
vertical_alignment = 1

[node name="NightCheckBox" type="CheckBox" parent="IHM_2D/Options/NightLabel"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = -1
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = 3.0
offset_top = -11.5
offset_right = 27.0
offset_bottom = 12.5
grow_horizontal = 0
grow_vertical = 2

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.874008, -0.109861, 0.473329, 0.347494, -0.822199, 0.450818, 0.339643, 0.558498, 0.756784, -0.204257, 12.5941, 0)
light_energy = 2.0
shadow_enabled = true
sky_mode = 1

[node name="NightNode" type="Node3D" parent="."]
visible = false

[node name="SpotLight3D" type="SpotLight3D" parent="NightNode"]
transform = Transform3D(0.429324, 0.866025, -0.256284, 0.512568, -2.78055e-08, 0.858647, 0.74361, -0.5, -0.443897, -37.1341, 14.5036, -32.8228)
light_energy = 16.0
light_indirect_energy = 16.0
spot_range = 57.3115
spot_angle = 51.836

[node name="SpotLight3D2" type="SpotLight3D" parent="NightNode"]
transform = Transform3D(0.429324, -0.866025, -0.256284, 0.512568, 7.91992e-09, 0.858647, -0.74361, -0.5, 0.443897, -37.6802, 14.5036, 30.5083)
light_energy = 16.0
light_indirect_energy = 16.0
spot_range = 56.1614
spot_angle = 46.4063

[node name="SpotLight3D3" type="SpotLight3D" parent="NightNode"]
transform = Transform3D(-0.607155, 0.707107, 0.36244, 0.512568, -7.3558e-09, 0.858647, 0.607155, 0.707107, -0.36244, 40.1164, 14.5036, -30.8647)
light_energy = 16.0
light_indirect_energy = 16.0
spot_range = 56.1614
spot_angle = 46.4063

[node name="SpotLight3D4" type="SpotLight3D" parent="NightNode"]
transform = Transform3D(-0.607376, -0.707107, 0.362069, 0.512043, 6.31897e-08, 0.85896, -0.607376, 0.707107, 0.362069, 42.031, 14.504, 30.508)
light_energy = 16.0
light_indirect_energy = 16.0
spot_range = 56.1614
spot_angle = 46.4063

[connection signal="toggled" from="IHM_2D/Options/NightLabel/NightCheckBox" to="." method="_on_night_check_box_toggled"]
